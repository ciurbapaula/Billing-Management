<div class="well" *ngIf="bill==null && deleteBill==false">
    <h1>Bills</h1>
    <button type="button" class="btn-create" (click)="createNewBill()">Create New</button>
    <br>
    <br>

    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Customer</th>
                <th scope="col">Number</th>
                <th scope="col">Date</th>
                <th scope="col">Total</th>
                <th scope="col">Info</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let bill of billList">
                <td>{{bill.billID}}</td>
                 <td>{{bill.customerID}}</td>
                <td>{{bill.number}}</td>
                <td>{{bill.date | date:'yyyy/MM/dd HH:mm:ss'}}</td>
                <td>{{bill.total}}</td>
                <td>{{bill.info}}</td>
                <td>
                    <button type="button" class="btn btn-success" style="margin-right: 10px;"
                        (click)="edit(bill.billID)">Edit</button>
                    <button type="button" class="btn btn-primary" style="margin-right: 10px;"
                        (click)="details($event)">Details</button>
                    <button type="button" class="btn btn-danger" (click)="delete(bill.billID)">Delete</button>
                </td>
            <tr>
            </tr>

        </tbody>
    </table>
</div>
<div class="well" *ngIf="bill!=null">
    <h3 *ngIf="bill.billID==0">Create New Bill</h3>
    <h3 *ngIf="bill.billID!=0">Edit Bill</h3>
    <br>
    <div class="row">

        <div class="col-md-2">
            Customer
        </div>
        <div class="col-md-3">

            <select style="width:100%" [(ngModel)]="bill.customerID">
                <option *ngFor="let customer of customerList" [ngValue]="customer.customerID">{{customer.name}}</option>
            </select>

        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            Number
        </div>
        <div class="col-md-3">
            <input style="width:100%" type="number" min="1" max="1000" [(ngModel)]="bill.number">

        </div>
        <div class="col-md-1" *ngIf="bill.billID==0">
            <button class=".btn-sm btn-info" (click)="generate($event)">Generate</button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            Date
        </div>
        <div class="col-md-3">
            <input style="width:100%" type="text" [(ngModel)]="bill.date">
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            Total
        </div>
        <div class="col-md-3">
            <input style="width:100%" type="number" min="0" max="100000000" [(ngModel)]="bill.total">
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            Info
        </div>
        <div class="col-md-3">
            <textarea rows="4" style="width:100%" [(ngModel)]="bill.info"></textarea>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
        </div>
        <div class="col-md-3">
            <button style="width:45%;" class="btn btn-info" (click)="create()" *ngIf="bill.billID==0">Create</button>
            <button style="width:45%;" class="btn btn-info" (click)="save()" *ngIf="bill.billID!=0">Save</button>
            <button style="width:45%; float:right" class="btn btn-info" (click)="cancel($event)">Cancel</button>
        </div>

    </div>
</div>
<div class="well" *ngIf="deleteBill"> 
    <h1 class="modal-title">Delete bill</h1>
    <h2 class="modal-title">Are you sure you want to delete this bill?</h2>

    <div class="row">
        <div class="col-md-4">
            <button style="width:45%;" class="btn btn-info" (click)="confirmDelete()">Delete
                bill</button>
            <button style="width:45%; float:right" class="btn btn-info" (click)="cancel($event)">Cancel</button>
        </div>
    </div>
</div>

